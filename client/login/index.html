<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
</head>
<body>
  <input type="text" id="username" placeholder="username">
  <input type="text" id="password" placeholder="password">
  <button id="submit">submit</button>
  <script>
    document.getElementById('submit').addEventListener('click', function(e) {
      e.preventDefault();
      var username = document.getElementById('username').value;
      var password = document.getElementById('password').value;

      var xhr = new XMLHttpRequest();
      xhr.open('POST', 'http://0.0.0.0:3000/login', true);
      xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');

      // send the collected data as JSON
      xhr.send(JSON.stringify({ username: username, password: password })); //userId hardcoded!!!!!
      // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ userId hardcoded!!!!!!

      xhr.onloadend = function () {
        // chrome.tabs.executeScript({
        //   code: 'console.log(xhr.responseText);'
        if (xhr.status === 200) alert(xhr.status);
      };


    });
  </script>
</body>
</html>